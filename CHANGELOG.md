# 更新日志

## [1.4.0] - 2026-02-11

### 🎯 页面隔离和显示修复

#### 修复的关键问题
1. **提交测试后的页面混乱**
   - 问题：点击Submit Test后，题目内容和左侧题号列表仍然显示，需要下拉才能看到结果
   - 原因：不同screen之间没有正确隔离，多个screen内容同时可见
   - 修复：强化CSS隔离（使用!important），确保只有active的screen显示

2. **查看答案时的页面混乱**
   - 问题：点击View Detailed Answers后，还显示之前的题目内容，需要下拉
   - 修复：确保review-screen激活时，test-screen完全隐藏

3. **重新开始测试的问题**
   - 问题：点击Take New Test后，开始新测试，上一次的结果还显示在题目下方
   - 修复：确保welcome-screen和test-screen激活时，results-screen完全隐藏

4. **页面切换滚动问题**
   - 问题：页面切换时可能停留在之前的滚动位置
   - 修复：在showScreen函数中立即滚动到顶部（window.scrollTo(0, 0)）

#### 新功能
5. **悬浮的"Back to Results"按钮**
   - 位置：固定在页面右上角（position: fixed）
   - 优点：在答案解析的任何位置都可以快速返回结果页
   - 样式：蓝色背景，悬停效果，响应式设计
   - 移动端适配：自动调整大小和位置

#### 技术改进
- CSS `.screen` 规则：添加 `!important` 强制隔离
- `showScreen()` 函数：先滚动到顶部，再切换screen，强制reflow
- `submitTest()` 函数：先滚动，再切换页面
- `showReview()` 函数：先滚动，再渲染内容
- 移除了不必要的 `scrollToTop()` 调用（功能合并到showScreen中）
- 响应式设计：悬浮按钮在移动设备上自动缩小

---

## [1.3.0] - 2026-02-11

### 🎯 页面布局和显示优化

#### 修复的问题
1. **结果页面显示问题**
   - 问题：点击Submit Test后，页面内容不在视口内，需要滚动才能看到分数
   - 修复：移除flex居中布局，让结果内容从页面顶部开始显示
   - 修复：立即滚动到顶部，确保内容可见

2. **答案解析页面显示问题**
   - 问题：点击View Detailed Answers后，内容可能不在视口内
   - 修复：优化页面布局，确保内容从顶部显示

3. **页面切换一致性**
   - 问题：不同页面的布局方式不一致
   - 修复：统一所有页面的布局方式，移除不必要的居中布局

#### 技术改进
- 修改 `#results-screen` 布局：移除flex居中，使用标准流布局
- 修改 `#review-screen` 布局：确保min-height设置
- 修改 `#welcome-screen` 布局：与其他页面保持一致
- 优化 `scrollToTop()` 函数：立即滚动+平滑滚动组合
- 强化 `showScreen()` 函数：确保正确的显示/隐藏

---

## [1.2.0] - 2026-02-11 14:15

### 🎯 页面切换滚动优化

#### 修复的问题
1. **提交试卷后的滚动问题**
   - 问题：点击Submit后，需要下拉才能看到得分信息
   - 修复：自动滚动到结果页面顶部，得分信息立即可见

2. **重新开始测试的滚动问题**
   - 问题：点击Take New Test后，停留在底部，需要上拉看到欢迎页面
   - 修复：自动滚动到欢迎页面顶部，Test Information立即可见

3. **查看答案解析的滚动问题**
   - 问题：可能停留在之前位置
   - 修复：自动滚动到答案解析页面顶部

4. **返回结果页的滚动问题**
   - 问题：可能停留在答案解析的位置
   - 修复：自动滚动到结果页面顶部

#### 技术改进
- 新增 `scrollToTop()` 统一函数
- 所有页面切换操作都自动滚动到顶部
- 保持平滑滚动动画

---

## [1.1.0] - 2026-02-11 13:09

### 🎯 题目导航滚动优化

#### 修复的问题
1. **开始测试后的滚动问题**
   - 问题：点击Start Test后，需要下拉才能看到题目
   - 修复：自动滚动到题目内容区域

2. **点击Next/Previous的滚动问题**
   - 问题：页面跳到顶部，需要下拉看下一题
   - 修复：自动滚动到题目内容

3. **点击题号导航的滚动问题**
   - 修复：自动滚动到选中的题目

#### 技术改进
- 新增 `scrollToQuestion()` 统一函数
- 添加 CSS `scroll-margin-top` 属性
- 响应式设计适配移动设备

---

## [1.0.0] - 2026-02-11 12:00

### 🎉 初始版本发布

#### 核心功能
- ✅ 24题测试系统（3pts×8 + 4pts×8 + 5pts×8）
- ✅ 60分钟倒计时
- ✅ 题目顺序：1-8题3分，9-16题4分，17-24题5分
- ✅ 图片支持（185题包含图片）
- ✅ 标记题目功能
- ✅ 自动评分系统
- ✅ 详细答案解析
- ✅ 响应式设计

#### 数据
- 总题库：343题
- 3分题：104题
- 4分题：112题
- 5分题：127题

#### 技术栈
- 纯HTML/CSS/JavaScript
- 无需服务器端
- 无需数据库
- 本地运行

---

## 版本说明

- **主版本号**：重大功能更新
- **次版本号**：新功能添加
- **修订号**：Bug修复和小改进
